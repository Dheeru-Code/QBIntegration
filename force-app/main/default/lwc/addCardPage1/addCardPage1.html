<template>
    <lightning-quick-action-panel header="Payment Terminal">
        <lightning-card if:true={isPmListVisible} title="Payment Methods-">
            <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_1-of-1">
                    <lightning-button variant="brand" label="Add Payment Method" icon-name="utility:add" icon-position="right" class="slds-m-left_x-small slds-float_right" onclick={handleAddPm}></lightning-button><br>
                </div>
                <div class="slds-col slds-size_1-of-1">
                    <lightning-datatable data={pmList} columns={pmColumns} key-field="Id" max-row-selection="1">
                    </lightning-datatable><br>
                </div>
                <div class="slds-col slds-size_1-of-1">
                    <lightning-button variant="brand" label="One Time Charge" class="slds-m-left_x-small slds-float_right" onclick={handleProceed}></lightning-button>
                </div>
            </div>
        </lightning-card>
        <lightning-card if:true={isAddPmVisible} title="Payment Card Details">
            <div class="slds-p-horizontal_medium">
                <lightning-radio-group name="radioGroup"
                label="Choose Payment Method"
                options={methodOptions}
                value={methodValue}
                type="button"></lightning-radio-group>
            </div>
            <div class="slds-p-horizontal_medium">
                <lightning-input label="Card Number" value={cardNumber} onchange={handleCardNumberChange}></lightning-input>
                <lightning-input label="Cardholder Name" value={cardholderName} onchange={handleCardholderNameChange}></lightning-input>
                <lightning-input label="Expiration Month" value={expirationMonth} onchange={handleExpirationMonthChange}></lightning-input>
                <lightning-input label="Expiration Year" value={expirationYear} onchange={handleExpirationYearChange}></lightning-input>
                <lightning-input label="CVV" value={cvv} onchange={handleCVVChange}></lightning-input><br>
                <lightning-button label="Add" variant="brand" onclick={handleSavePm} class="slds-m-left_x-small slds-float_right"></lightning-button>
            </div>
        </lightning-card>
        <lightning-card if:true={isPaymentPageVisible}>
            <div class="slds-grid slds-wrap slds-gutters">
                <div class="slds-col slds-size_6-of-12">
                    <lightning-input label="Currency" value={currencyType} onchange={handleCurrencyChange}></lightning-input>
                </div>
                <div class="slds-col slds-size_6-of-12">
                    <lightning-input label="Amount" type="number" value={amount} onchange={handleAmountChange}></lightning-input>
                </div>
            </div>
            <lightning-button label="Pay Now" variant="brand" onclick={handlePayout} class="slds-m-left_x-small slds-float_right"></lightning-button>
        </lightning-card>
    </lightning-quick-action-panel>
</template>